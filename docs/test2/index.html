<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=lf.css rel=stylesheet> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.56c24277.js"}catch(e){main="/client/legacy/client.3dfb36a3.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=client/client-a6ab5402.css rel=stylesheet> <link href=/client/client.56c24277.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-a6ab5402.css rel=preload as=style><link href=/client/test2.d65dacf5.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/utils.932e656f.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials></head> <body> <div id=sapper> <main class=svelte-1vk44dp><div><h2>Test 2 (script module + script)</h2> <p>This page shows that code within a script context module element is run on the server and on the client. If you reload that page (and thus ask the server to regenerate that page) the script context module is not run again on the server but only on the client. In fact, the script context module was run while launching the server: this is why the <code>Test#2</code> line appears in the previous page. </p> <p>When this page is displayed and re-loaded, the output of the server and the Web console should look like: </p> <center><button><a href=test1>previous test</a></button> <button><a href=test3>next test</a></button></center> <table><tr><th>server<th>client</tr> <tr><td><pre>Test#2/context - I am running on server.
Test#2 - And now, I am running on server.
      <em>after page reload</em>
Test#2 - And now, I am running on server.
      <em>return to previous test then next test</em></pre></td> <td><pre>Test#2/context - I am running on client. 
Test#2 - And now, I am running on client.
      <em>after page reload</em>
Test#2/context - I am running on client. 
Test#2 - And now, I am running on client.
      <em>return to previous test then next test</em>
Test#1 - I am running on client.
Test#2 - And now, I am running on client.
    
  </pre></table> <h2>Conclusion</h2> <p>It is important to distinguish reloading a page (that is, ask the server to regenerate the page) from following links (that are entirely processed by the client). </p> </div></main></div> 